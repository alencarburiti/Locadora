CREATE DATABASE  IF NOT EXISTS `locadora` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE `locadora`;
-- MySQL dump 10.13  Distrib 5.6.19, for osx10.7 (i386)
--
-- Host: localhost    Database: locadora
-- ------------------------------------------------------
-- Server version	5.6.21

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `ACESSO`
--

DROP TABLE IF EXISTS `ACESSO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ACESSO` (
  `CODIGO_ACESSO` int(11) NOT NULL AUTO_INCREMENT,
  `LER` int(2) DEFAULT '1',
  `ESCREVER` int(2) DEFAULT '1',
  `DELETAR` int(2) DEFAULT '1',
  `SUPER_USUARIO` int(11) DEFAULT '1',
  `USUARIO_CODIGO_USUARIO` int(11) NOT NULL,
  `INTERFACE_CODIGO_INTERFACE` int(11) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_ACESSO`),
  KEY `FK_ACESSO_USUARIO1_IDX` (`USUARIO_CODIGO_USUARIO`),
  CONSTRAINT `FK_ACESSO_USUARIO1` FOREIGN KEY (`USUARIO_CODIGO_USUARIO`) REFERENCES `USUARIO` (`CODIGO_USUARIO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ACESSO`
--

LOCK TABLES `ACESSO` WRITE;
/*!40000 ALTER TABLE `ACESSO` DISABLE KEYS */;
INSERT INTO `ACESSO` VALUES (1,0,0,0,0,3,13),(2,0,0,0,0,3,11),(3,0,0,0,0,3,1),(4,0,0,0,0,3,2),(5,0,0,0,0,3,3),(6,0,0,0,0,3,4),(7,0,0,0,0,3,5),(8,0,0,0,0,3,6),(9,0,0,0,0,3,7),(10,0,0,0,0,3,8),(11,0,0,0,0,3,9),(12,0,0,0,0,3,10),(13,0,0,0,0,3,12),(14,0,0,0,0,3,14),(15,0,0,0,0,3,15);
/*!40000 ALTER TABLE `ACESSO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CAIXA`
--

DROP TABLE IF EXISTS `CAIXA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CAIXA` (
  `CODIGO_CAIXA` int(11) NOT NULL AUTO_INCREMENT,
  `IP` varchar(45) DEFAULT NULL,
  `NAME` varchar(45) DEFAULT NULL,
  `NUMERO` int(11) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_CAIXA`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CAIXA`
--

LOCK TABLES `CAIXA` WRITE;
/*!40000 ALTER TABLE `CAIXA` DISABLE KEYS */;
/*!40000 ALTER TABLE `CAIXA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CLIENTE`
--

DROP TABLE IF EXISTS `CLIENTE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `CLIENTE` (
  `CODIGO_CLIENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_CLIENTE` varchar(45) DEFAULT NULL,
  `NOME_EMPRESA_TRABALHO` varchar(45) DEFAULT NULL,
  `PROFISSAO` varchar(45) DEFAULT NULL,
  `CPF` varchar(15) DEFAULT NULL,
  `DATA_NASCIMENTO` date DEFAULT NULL,
  `DATA_CADASTRO` date DEFAULT NULL,
  `ENDERECO` varchar(45) DEFAULT NULL,
  `BAIRRO` varchar(45) DEFAULT NULL,
  `COMPLEMENTO` varchar(30) DEFAULT NULL,
  `CIDADE` varchar(30) DEFAULT NULL,
  `ESTADO` varchar(30) DEFAULT NULL,
  `EMAIL` varchar(30) DEFAULT NULL,
  `LOGIN` varchar(20) DEFAULT NULL,
  `SENHA` varchar(16) DEFAULT NULL,
  `OBSERVACAO` varchar(45) DEFAULT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  PRIMARY KEY (`CODIGO_CLIENTE`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CLIENTE`
--

LOCK TABLES `CLIENTE` WRITE;
/*!40000 ALTER TABLE `CLIENTE` DISABLE KEYS */;
/*!40000 ALTER TABLE `CLIENTE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `COPIA`
--

DROP TABLE IF EXISTS `COPIA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `COPIA` (
  `CODIGO_COPIA` int(11) NOT NULL AUTO_INCREMENT,
  `CODIGO_BARRAS` varchar(100) DEFAULT NULL,
  `IDIOMA` varchar(45) DEFAULT NULL,
  `LEGENDA` varchar(45) DEFAULT NULL,
  `DATA_AQUISICAO` date DEFAULT NULL,
  `PRECO_CUSTO` double DEFAULT NULL,
  `OBJETO_CODIGO_OBJETO` int(11) NOT NULL,
  `NUMERO_COPIA` int(11) DEFAULT '1',
  `DEL_FLAG` int(1) DEFAULT '0',
  `DEFECT_FLAG` int(1) DEFAULT '0',
  PRIMARY KEY (`CODIGO_COPIA`),
  KEY `FK_COPIA_OBJETO_IDX` (`OBJETO_CODIGO_OBJETO`),
  CONSTRAINT `FK_COPIA_OBJETO` FOREIGN KEY (`OBJETO_CODIGO_OBJETO`) REFERENCES `OBJETO` (`CODIGO_OBJETO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=73 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `COPIA`
--

LOCK TABLES `COPIA` WRITE;
/*!40000 ALTER TABLE `COPIA` DISABLE KEYS */;
/*!40000 ALTER TABLE `COPIA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `DEPENDENTE`
--

DROP TABLE IF EXISTS `DEPENDENTE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `DEPENDENTE` (
  `CODIGO_DEPENDENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_DEPENDENTE` varchar(50) DEFAULT NULL,
  `TIPO_DEPENDENTE` int(11) DEFAULT '0',
  `PARENTESCO` varchar(45) DEFAULT NULL,
  `CPF` varchar(14) DEFAULT NULL,
  `DATA_NASCIMENTO` date DEFAULT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  `CLIENTE_CODIGO_CLIENTE` int(11) NOT NULL,
  `TELEFONE` varchar(45) DEFAULT NULL,
  `USUARIO_CODIGO_USUARIO` int(11) NOT NULL,
  PRIMARY KEY (`CODIGO_DEPENDENTE`),
  KEY `FK_DEPENDENTE_CLIENTE1_IDX` (`CLIENTE_CODIGO_CLIENTE`),
  KEY `FK_DEPENDENTE_USUARIO1_IDX` (`USUARIO_CODIGO_USUARIO`),
  CONSTRAINT `FK_DEPENDENTE_CLIENTE1` FOREIGN KEY (`CLIENTE_CODIGO_CLIENTE`) REFERENCES `CLIENTE` (`CODIGO_CLIENTE`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_DEPENDENTE_USUARIO1` FOREIGN KEY (`USUARIO_CODIGO_USUARIO`) REFERENCES `USUARIO` (`CODIGO_USUARIO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `DEPENDENTE`
--

LOCK TABLES `DEPENDENTE` WRITE;
/*!40000 ALTER TABLE `DEPENDENTE` DISABLE KEYS */;
/*!40000 ALTER TABLE `DEPENDENTE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `DIARIA`
--

DROP TABLE IF EXISTS `DIARIA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `DIARIA` (
  `CODIGO_DIARIA` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_DIARIA` varchar(45) DEFAULT NULL,
  `VALOR` double DEFAULT NULL,
  `DIAS` int(11) DEFAULT NULL,
  `MULTAS` double DEFAULT NULL,
  `MAXIMO_DIAS` int(11) DEFAULT NULL,
  `ACUMULATIVO` int(11) DEFAULT '0',
  PRIMARY KEY (`CODIGO_DIARIA`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `DIARIA`
--

LOCK TABLES `DIARIA` WRITE;
/*!40000 ALTER TABLE `DIARIA` DISABLE KEYS */;
/*!40000 ALTER TABLE `DIARIA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `FORNECEDOR`
--

DROP TABLE IF EXISTS `FORNECEDOR`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `FORNECEDOR` (
  `IDFORNECEDOR` int(10) NOT NULL AUTO_INCREMENT,
  `RAZAOSOCIAL` varchar(70) DEFAULT NULL,
  `NOMEFANTASIA` varchar(70) DEFAULT NULL,
  `CNPJ` varchar(18) DEFAULT NULL,
  `TELEFONE` varchar(14) DEFAULT NULL,
  `FAX` varchar(14) DEFAULT NULL,
  `ENDERECO` varchar(50) DEFAULT NULL,
  `INSCRICAOESTADUAL` varchar(20) DEFAULT NULL,
  `INSCRICAOMUNICIPAL` varchar(20) DEFAULT NULL,
  `NOMEVENDEDOR` varchar(50) DEFAULT NULL,
  `TELEFONEVENDEDOR` varchar(14) DEFAULT NULL,
  `CEP` varchar(10) DEFAULT NULL,
  `CIDADE` varchar(25) DEFAULT NULL,
  `ESTADO` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`IDFORNECEDOR`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `FORNECEDOR`
--

LOCK TABLES `FORNECEDOR` WRITE;
/*!40000 ALTER TABLE `FORNECEDOR` DISABLE KEYS */;
INSERT INTO `FORNECEDOR` VALUES (1,'BROADWAY','BROADWAY','02.836.799/0001.86','(62)3335-3456','(54)6545-6456','RUA','546.546.546.','165.465.465.','TESTANDO','(62)3353-2201','76.380-000','GOIANESIA','GO');
/*!40000 ALTER TABLE `FORNECEDOR` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GENERO`
--

DROP TABLE IF EXISTS `GENERO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `GENERO` (
  `CODIGO_GENERO` int(10) NOT NULL AUTO_INCREMENT,
  `NOME_GENERO` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_GENERO`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `GENERO`
--

LOCK TABLES `GENERO` WRITE;
/*!40000 ALTER TABLE `GENERO` DISABLE KEYS */;
INSERT INTO `GENERO` VALUES (1,'AVENTURA'),(2,'TERROR'),(3,'COMEDIA'),(4,'DRAMA'),(5,'EROTICO'),(6,'FICÇÃO'),(7,'SUSPENCE'),(8,'THRILLER'),(9,'INFANTIL'),(10,'POLICIAL'),(11,'WESTERN'),(12,'ROMANCE'),(13,'MUSICAL'),(14,'GUERRA'),(15,'DOCUMENTARIO'),(16,'AÇÃO'),(17,'BIBLICOS'),(18,'SERIE TV');
/*!40000 ALTER TABLE `GENERO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `IDIOMA`
--

DROP TABLE IF EXISTS `IDIOMA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `IDIOMA` (
  `CODIGO_IDIOMA` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_IDIOMA` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_IDIOMA`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `IDIOMA`
--

LOCK TABLES `IDIOMA` WRITE;
/*!40000 ALTER TABLE `IDIOMA` DISABLE KEYS */;
INSERT INTO `IDIOMA` VALUES (1,'CHINÊS'),(2,'ESPANHOL'),(3,'FRANCÊS'),(4,'INGLÊS'),(5,'ITALIANO'),(6,'JAPONÊS'),(7,'POLONÊS'),(8,'PORTUGUÊS');
/*!40000 ALTER TABLE `IDIOMA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `INTERFACE`
--

DROP TABLE IF EXISTS `INTERFACE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `INTERFACE` (
  `CODIGO_INTERFACE` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRICAO` varchar(45) DEFAULT NULL,
  `NOME_CLASSE` varchar(45) DEFAULT NULL,
  `TIPO` varchar(1) DEFAULT NULL,
  `CODIGO_PAI` int(11) DEFAULT NULL,
  `DEL_FLAG` int(11) DEFAULT '0',
  PRIMARY KEY (`CODIGO_INTERFACE`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `INTERFACE`
--

LOCK TABLES `INTERFACE` WRITE;
/*!40000 ALTER TABLE `INTERFACE` DISABLE KEYS */;
INSERT INTO `INTERFACE` VALUES (1,'CLIENTE','BR.COM.LOCADORA.VIEW.MENUCLIENTE','P',1,0),(2,'PRODUTO','BR.COM.LOCADORA.VIEW.MENUPRODUTO','P',1,0),(3,'FORNECEDOR','BR.COM.LOCADORA.VIEW.MENUFORNECEDOR','P',1,0),(4,'OBJETO','BR.COM.LOCADORA.VIEW.MENUOBJETO','P',NULL,0),(5,'GÊNERO','BR.COM.LOCADORA.VIEW.MENUGENERO',NULL,NULL,0),(6,'DIÁRIA','BR.COM.LOCADORA.VIEW.MENUDIARIA',NULL,NULL,0),(7,'ATENDIMENTO LOCAÇÃO','BR.COM.LOCADORA.VIEW.ATENDIMENTOLOCACAO',NULL,1,0),(8,'ATENDIMENTO DEVOLUÇÃO','BR.COM.LOCADORA.VIEW.ATENDIMENTODEVOLUCAO',NULL,NULL,0),(9,'DESCONTO (ENTRADA CAIXA - LOCAÇÃO)','BR.COM.LOCADORA.VIEW.ENTRADACAIXA',NULL,NULL,0),(10,'DESCONTO (ENTRADA CAIXA - DEVOLUCAO)','BR.COM.LOCADORA.VIEW.ENTRADACAIXADEVOLUCAO',NULL,NULL,0),(11,'ACESSOS','BR.COM.LOCADORA.VIEW.ACESSOINTERFACE',NULL,NULL,0),(12,'RECEBIMENTOS','BR.COM.LOCADORA.VIEW.RECEBIMENTO',NULL,NULL,0),(13,'USUARIO','BR.COM.LOCADORA.VIEW.MENUUSUARIO',NULL,NULL,0),(14,'IDIOMA','BR.COM.LOCADORA.VIEW.MENUIDIOMA',NULL,NULL,0),(15,'LEGENDA','BR.COM.LOCADORA.VIEW.MENULEGENDA',NULL,NULL,0);
/*!40000 ALTER TABLE `INTERFACE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ITEM_LOCACAO`
--

DROP TABLE IF EXISTS `ITEM_LOCACAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ITEM_LOCACAO` (
  `CODIGO_ITEM_LOCACAO` int(11) NOT NULL AUTO_INCREMENT,
  `DATA_LOCACAO` datetime DEFAULT NULL,
  `DATA_PREVISTA` date DEFAULT NULL,
  `DATA_DEVOLUCAO` timestamp NULL DEFAULT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  `VALOR_LOCADO` double DEFAULT '0',
  `VALOR_PAGO` double DEFAULT '0',
  `LOCACAO_CODIGO_LOCACAO` int(11) NOT NULL,
  `COPIA_CODIGO_COPIA` int(11) NOT NULL,
  `DIAS_RELOCACAO` int(11) DEFAULT '0',
  `VALOR_RELOCACAO` double DEFAULT '0',
  PRIMARY KEY (`CODIGO_ITEM_LOCACAO`),
  KEY `FK_ITEM_LOCACAO_LOCACAO1_IDX` (`LOCACAO_CODIGO_LOCACAO`),
  KEY `FK_ITEM_LOCACAO_COPIA1_IDX` (`COPIA_CODIGO_COPIA`),
  CONSTRAINT `FK_ITEM_LOCACAO_COPIA1` FOREIGN KEY (`COPIA_CODIGO_COPIA`) REFERENCES `COPIA` (`CODIGO_COPIA`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_ITEM_LOCACAO_LOCACAO1` FOREIGN KEY (`LOCACAO_CODIGO_LOCACAO`) REFERENCES `LOCACAO` (`CODIGO_LOCACAO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=67 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ITEM_LOCACAO`
--

LOCK TABLES `ITEM_LOCACAO` WRITE;
/*!40000 ALTER TABLE `ITEM_LOCACAO` DISABLE KEYS */;
/*!40000 ALTER TABLE `ITEM_LOCACAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `LANCAMENTO`
--

DROP TABLE IF EXISTS `LANCAMENTO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LANCAMENTO` (
  `CODIGO_LANCAMENTO` int(11) NOT NULL AUTO_INCREMENT,
  `VALOR` double DEFAULT '0',
  `DEPENDENTE_CODIGO_DEPENDENTE` int(11) NOT NULL,
  `TIPO_SERVICO_CODIGO_TIPO_SERVICO` int(11) NOT NULL,
  `USUARIO_CODIGO_USUARIO` int(11) NOT NULL,
  `LOCACAO_CODIGO_LOCACAO` int(11) DEFAULT NULL,
  `DATA_LANCAMENTO` date DEFAULT NULL,
  `CAIXA_CODIGO_CAIXA` int(11) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_LANCAMENTO`),
  KEY `FK_LANCAMENTO_DEPENDENTE1_IDX` (`DEPENDENTE_CODIGO_DEPENDENTE`),
  KEY `FK_LANCAMENTO_TIPO_SERVICO1_IDX` (`TIPO_SERVICO_CODIGO_TIPO_SERVICO`),
  KEY `FK_LANCAMENTO_USUARIO1_IDX` (`USUARIO_CODIGO_USUARIO`),
  KEY `FK_LANCAMENTO_LOCACAO1_IDX` (`LOCACAO_CODIGO_LOCACAO`),
  CONSTRAINT `FK_LANCAMENTO_DEPENDENTE1` FOREIGN KEY (`DEPENDENTE_CODIGO_DEPENDENTE`) REFERENCES `DEPENDENTE` (`CODIGO_DEPENDENTE`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_LANCAMENTO_LOCACAO1` FOREIGN KEY (`LOCACAO_CODIGO_LOCACAO`) REFERENCES `LOCACAO` (`CODIGO_LOCACAO`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_LANCAMENTO_TIPO_SERVICO1` FOREIGN KEY (`TIPO_SERVICO_CODIGO_TIPO_SERVICO`) REFERENCES `TIPO_SERVICO` (`CODIGO_TIPO_SERVICO`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_LANCAMENTO_USUARIO1` FOREIGN KEY (`USUARIO_CODIGO_USUARIO`) REFERENCES `USUARIO` (`CODIGO_USUARIO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `LANCAMENTO`
--

LOCK TABLES `LANCAMENTO` WRITE;
/*!40000 ALTER TABLE `LANCAMENTO` DISABLE KEYS */;
/*!40000 ALTER TABLE `LANCAMENTO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `LEGENDA`
--

DROP TABLE IF EXISTS `LEGENDA`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LEGENDA` (
  `CODIGO_LEGENDA` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_LEGENDA` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_LEGENDA`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `LEGENDA`
--

LOCK TABLES `LEGENDA` WRITE;
/*!40000 ALTER TABLE `LEGENDA` DISABLE KEYS */;
INSERT INTO `LEGENDA` VALUES (1,'CHINÊS'),(2,'ESPANHOL'),(3,'FRANCÊS'),(4,'INGLÊS'),(5,'ITALIANO'),(6,'JAPONÊS'),(7,'POLONÊS'),(8,'PORTUGUÊS'),(9,'NÃO LEGENDADO');
/*!40000 ALTER TABLE `LEGENDA` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `LOCACAO`
--

DROP TABLE IF EXISTS `LOCACAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `LOCACAO` (
  `CODIGO_LOCACAO` int(11) NOT NULL AUTO_INCREMENT,
  `DEL_FLAG` int(2) DEFAULT '0',
  `DEPENDENTE_CODIGO_DEPENDENTE` int(11) NOT NULL,
  `USUARIO_CODIGO_USUARIO` int(11) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_LOCACAO`),
  KEY `FK_LOCACAO_DEPENDENTE1_IDX` (`DEPENDENTE_CODIGO_DEPENDENTE`),
  KEY `FK_LOCACAO_DEPENDENTE1_IDX1` (`DEPENDENTE_CODIGO_DEPENDENTE`,`USUARIO_CODIGO_USUARIO`)
) ENGINE=InnoDB AUTO_INCREMENT=32 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `LOCACAO`
--

LOCK TABLES `LOCACAO` WRITE;
/*!40000 ALTER TABLE `LOCACAO` DISABLE KEYS */;
/*!40000 ALTER TABLE `LOCACAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `OBJETO`
--

DROP TABLE IF EXISTS `OBJETO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `OBJETO` (
  `CODIGO_OBJETO` int(11) NOT NULL AUTO_INCREMENT,
  `TITULO` varchar(45) DEFAULT NULL,
  `TITULO_ORIGINAL` varchar(45) DEFAULT NULL,
  `TIPO_MOVIMENTO` varchar(45) DEFAULT NULL,
  `PRODUCAO` varchar(45) DEFAULT NULL,
  `DURACAO` varchar(45) DEFAULT NULL,
  `MIDIA` varchar(45) DEFAULT NULL,
  `TIPO_MIDIA` varchar(45) DEFAULT NULL,
  `ELENCO` varchar(400) DEFAULT NULL,
  `SINOPSE` varchar(1000) DEFAULT NULL,
  `CENSURA` varchar(1000) DEFAULT '1',
  `GENERO_CODIGO_GENERO` int(10) NOT NULL,
  `DIARIA_CODIGO_DIARIA` int(11) NOT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  PRIMARY KEY (`CODIGO_OBJETO`),
  KEY `FK_OBJETO_GENERO1_IDX` (`GENERO_CODIGO_GENERO`),
  KEY `FK_OBJETO_DIARIA1_IDX` (`DIARIA_CODIGO_DIARIA`),
  CONSTRAINT `FK_OBJETO_DIARIA1` FOREIGN KEY (`DIARIA_CODIGO_DIARIA`) REFERENCES `DIARIA` (`CODIGO_DIARIA`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `FK_OBJETO_GENERO1` FOREIGN KEY (`GENERO_CODIGO_GENERO`) REFERENCES `GENERO` (`CODIGO_GENERO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `OBJETO`
--

LOCK TABLES `OBJETO` WRITE;
/*!40000 ALTER TABLE `OBJETO` DISABLE KEYS */;
/*!40000 ALTER TABLE `OBJETO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PROMOCAO_DEVOLUCAO`
--

DROP TABLE IF EXISTS `PROMOCAO_DEVOLUCAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `PROMOCAO_DEVOLUCAO` (
  `CODIGO_PROMOCAO_DEVOLUCAO` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRICAO` varchar(45) DEFAULT NULL,
  `HORARIO_LOCACAO` time DEFAULT NULL,
  `HORARIO_DEVOLUCAO` time DEFAULT NULL,
  `HORAS_ANTECIPADA` time DEFAULT NULL,
  `VALOR_PROMOCAO` double DEFAULT NULL,
  `PAGAMENTO_A_VISTA` int(11) DEFAULT NULL,
  `DIARIA_CODIGO_DIARIA` int(11) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_PROMOCAO_DEVOLUCAO`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PROMOCAO_DEVOLUCAO`
--

LOCK TABLES `PROMOCAO_DEVOLUCAO` WRITE;
/*!40000 ALTER TABLE `PROMOCAO_DEVOLUCAO` DISABLE KEYS */;
/*!40000 ALTER TABLE `PROMOCAO_DEVOLUCAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PROMOCAO_LOCACAO`
--

DROP TABLE IF EXISTS `PROMOCAO_LOCACAO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `PROMOCAO_LOCACAO` (
  `CODIGO_PROMOCAO` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRICAO_PROMOCAO` varchar(45) DEFAULT NULL,
  `VALOR_PROMOCAO` double DEFAULT NULL,
  `LOCAR_QUANTIDADE` int(11) DEFAULT NULL,
  `GANHAR_QUANTIDADE` int(11) DEFAULT NULL,
  `PAGAMENTO_A_VISTA` varchar(45) DEFAULT '0',
  `ORDEM` int(11) DEFAULT NULL,
  `DOMINGO` int(11) DEFAULT '0',
  `SEGUNDA` int(11) DEFAULT '0',
  `TERCA` int(11) DEFAULT '0',
  `QUARTA` int(11) DEFAULT '0',
  `QUINTA` int(11) DEFAULT '0',
  `SEXTA` int(11) DEFAULT '0',
  `SABADO` int(11) DEFAULT '0',
  `DIARIA_CODIGO_DIARIA` int(11) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_PROMOCAO`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PROMOCAO_LOCACAO`
--

LOCK TABLES `PROMOCAO_LOCACAO` WRITE;
/*!40000 ALTER TABLE `PROMOCAO_LOCACAO` DISABLE KEYS */;
/*!40000 ALTER TABLE `PROMOCAO_LOCACAO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `STATION`
--

DROP TABLE IF EXISTS `STATION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `STATION` (
  `CODIGO_STATION` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRICAO_STATION` varchar(45) DEFAULT NULL,
  `DEL_FLAG` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_STATION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `STATION`
--

LOCK TABLES `STATION` WRITE;
/*!40000 ALTER TABLE `STATION` DISABLE KEYS */;
/*!40000 ALTER TABLE `STATION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TELEFONE`
--

DROP TABLE IF EXISTS `TELEFONE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TELEFONE` (
  `CODIGO_TELEFONE` int(11) NOT NULL AUTO_INCREMENT,
  `TELEFONE` varchar(50) DEFAULT NULL,
  `CLIENTE_CODIGO_CLIENTE` int(11) NOT NULL,
  PRIMARY KEY (`CODIGO_TELEFONE`),
  KEY `FK_TELEFONE_CLIENTE1_IDX` (`CLIENTE_CODIGO_CLIENTE`),
  CONSTRAINT `FK_TELEFONE_CLIENTE1` FOREIGN KEY (`CLIENTE_CODIGO_CLIENTE`) REFERENCES `CLIENTE` (`CODIGO_CLIENTE`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TELEFONE`
--

LOCK TABLES `TELEFONE` WRITE;
/*!40000 ALTER TABLE `TELEFONE` DISABLE KEYS */;
/*!40000 ALTER TABLE `TELEFONE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TIPO_OBJETO`
--

DROP TABLE IF EXISTS `TIPO_OBJETO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TIPO_OBJETO` (
  `CODIGO_TIPO_OBJETO` int(11) NOT NULL,
  `NOME_TIPO_OBJETO` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_TIPO_OBJETO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TIPO_OBJETO`
--

LOCK TABLES `TIPO_OBJETO` WRITE;
/*!40000 ALTER TABLE `TIPO_OBJETO` DISABLE KEYS */;
/*!40000 ALTER TABLE `TIPO_OBJETO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TIPO_SERVICO`
--

DROP TABLE IF EXISTS `TIPO_SERVICO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TIPO_SERVICO` (
  `CODIGO_TIPO_SERVICO` int(11) NOT NULL AUTO_INCREMENT,
  `TIPO` varchar(45) DEFAULT NULL,
  `DESCRICAO` varchar(45) DEFAULT NULL,
  `MOVIMENTO` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_TIPO_SERVICO`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TIPO_SERVICO`
--

LOCK TABLES `TIPO_SERVICO` WRITE;
/*!40000 ALTER TABLE `TIPO_SERVICO` DISABLE KEYS */;
INSERT INTO `TIPO_SERVICO` VALUES (1,'D','LOCAÇÃO: VALOR LOCAÇÃO','L'),(2,'D','DEVOLUÇÃO: ATRASO NA DEVOLUÇÃO','D'),(3,'C','LOCAÇÃO: DESCONTO','L'),(4,'C','DINHEIRO',NULL),(5,'D','DEVOLUÇÃO: DÉBITO DE DEVOLUÇÃO','D'),(6,'C','LOCAÇÃO: PAGAMENTO LOCAÇÃO','L'),(7,'C','DEVOLUÇÃO: PAGAMENTO DE LOCAÇÃO','D'),(8,'C','DEVOLUÇÃO: DESCONTO','D');
/*!40000 ALTER TABLE `TIPO_SERVICO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `USUARIO`
--

DROP TABLE IF EXISTS `USUARIO`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `USUARIO` (
  `CODIGO_USUARIO` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_USUARIO` varchar(50) DEFAULT NULL,
  `LOGIN` varchar(20) DEFAULT NULL,
  `SENHA` varchar(10) DEFAULT NULL,
  `DEL_FLAG` varchar(45) DEFAULT '0',
  PRIMARY KEY (`CODIGO_USUARIO`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `USUARIO`
--

LOCK TABLES `USUARIO` WRITE;
/*!40000 ALTER TABLE `USUARIO` DISABLE KEYS */;
INSERT INTO `USUARIO` VALUES (3,'ALENCAR SANTOS BURITI JUNIOR','admin','admin','0'),(4,'ELIESIO XAVIER','eliesio.xavier','eliesio','0');
/*!40000 ALTER TABLE `USUARIO` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Dumping events for database 'locadora'
--

--
-- Dumping routines for database 'locadora'
--
/*!50003 DROP PROCEDURE IF EXISTS `SP_LAST_CLIENTE` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`ROOT`@`localhost` PROCEDURE `SP_LAST_CLIENTE`()
BEGIN
SELECT MAX(CODIGO_CLIENTE) FROM LOCADORA.CLIENTE;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_UPDATE_CLIENTE_BY_PK` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`ROOT`@`localhost` PROCEDURE `SP_UPDATE_CLIENTE_BY_PK`(
IN P_CODIGO_CLIENTE INT(11),
IN P_NOME_CLIENTE VARCHAR(45),
IN P_NOME_EMPRESA_TRABALHO VARCHAR(45),
IN P_PROFISSAO VARCHAR(45),
IN P_CPF VARCHAR(15),
IN P_DATA_NASCIMENTO DATE,
IN P_ENDERECO VARCHAR(45),
IN P_BAIRRO VARCHAR(45),
IN P_COMPLEMENTO VARCHAR(30),
IN P_CIDADE VARCHAR(30),
IN P_ESTADO VARCHAR(30),
IN P_EMAIL VARCHAR(30),
IN P_OBSERVACAO VARCHAR(40),
IN P_DEL_FLAG INT(11)
)
BEGIN

UPDATE LOCADORA.CLIENTE
SET
NOME_CLIENTE = P_NOME_CLIENTE,
NOME_EMPRESA_TRABALHO = P_NOME_EMPRESA_TRABALHO,
PROFISSAO = P_PROFISSAO,
CPF = P_CPF,
DATA_NASCIMENTO = P_DATA_NASCIMENTO,
ENDERECO = P_ENDERECO,
BAIRRO = P_BAIRRO,
COMPLEMENTO = P_COMPLEMENTO,
CIDADE = P_CIDADE,
ESTADO = P_ESTADO,
EMAIL = P_EMAIL,
OBSERVACAO = P_OBSERVACAO,
DEL_FLAG = P_DEL_FLAG
WHERE CODIGO_CLIENTE = P_CODIGO_CLIENTE;

UPDATE LOCADORA.DEPENDENTE SET
NOME_DEPENDENTE = P_NOME_CLIENTE
WHERE CLIENTE_CODIGO_CLIENTE = P_CODIGO_CLIENTE
AND TIPO_DEPENDENTE = 0;

END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `SP_UPDATE_OBJETO_BY_PK` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`ROOT`@`localhost` PROCEDURE `SP_UPDATE_OBJETO_BY_PK`(
IN P_CODIGO_OBJETO INT(11),
IN P_TITULO VARCHAR(45),
IN P_TITULO_ORIGINAL VARCHAR(45),
IN P_TIPO_MOVIMENTO VARCHAR(45),
IN P_PRODUCAO VARCHAR(45),
IN P_DURACAO VARCHAR(45),
IN P_MIDIA VARCHAR(45),
IN P_TIPO_MIDIA VARCHAR(45),
IN P_ELENCO VARCHAR(1000),
IN P_SINOPSE VARCHAR(1000),
IN P_CENSURA VARCHAR(45),
IN P_GENERO_CODIGO_GENERO INT(10),
IN P_DIARIA_CODIGO_DIARIA INT(11),
IN P_DEL_FLAG INT(2)
)
BEGIN

UPDATE `LOCADORA`.`OBJETO`
SET
`CODIGO_OBJETO` = P_CODIGO_OBJETO,
`TITULO` = P_TITULO,
`TITULO_ORIGINAL` = P_TITULO_ORIGINAL,
`TIPO_MOVIMENTO` = P_TIPO_MOVIMENTO,
`PRODUCAO` = P_PRODUCAO,
`DURACAO` = P_DURACAO,
`MIDIA` = P_MIDIA,
`TIPO_MIDIA` = P_TIPO_MIDIA,
`ELENCO` = P_ELENCO,
`SINOPSE` = P_SINOPSE,
`CENSURA` = P_CENSURA,
`GENERO_CODIGO_GENERO` = P_GENERO_CODIGO_GENERO,
`DIARIA_CODIGO_DIARIA` = P_DIARIA_CODIGO_DIARIA,
`DEL_FLAG` = P_DEL_FLAG
WHERE `CODIGO_OBJETO` = P_CODIGO_OBJETO;


END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2014-12-18 13:48:51
