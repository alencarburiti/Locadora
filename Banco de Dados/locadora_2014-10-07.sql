# ************************************************************
# Sequel Pro SQL dump
# Version 4096
#
# http://www.sequelpro.com/
# http://code.google.com/p/sequel-pro/
#
# Host: 127.0.0.1 (MySQL 5.6.20)
# Database: locadora
# Generation Time: 2014-10-07 21:13:04 +0000
# ************************************************************


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


# Dump of table ACESSO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `ACESSO`;

CREATE TABLE `ACESSO` (
  `CODIGO_ACESSO` int(11) NOT NULL AUTO_INCREMENT,
  `ACTION` varchar(45) DEFAULT NULL,
  `LER` int(2) DEFAULT NULL,
  `ESCREVER` int(2) DEFAULT NULL,
  `DELETAR` int(2) DEFAULT NULL,
  `USUARIO_CODIGO_USUARIO` int(11) NOT NULL,
  PRIMARY KEY (`CODIGO_ACESSO`),
  KEY `fk_ACESSO_USUARIO1_idx` (`USUARIO_CODIGO_USUARIO`),
  CONSTRAINT `fk_ACESSO_USUARIO1` FOREIGN KEY (`USUARIO_CODIGO_USUARIO`) REFERENCES `USUARIO` (`CODIGO_USUARIO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

LOCK TABLES `ACESSO` WRITE;
/*!40000 ALTER TABLE `ACESSO` DISABLE KEYS */;

INSERT INTO `ACESSO` (`CODIGO_ACESSO`, `ACTION`, `LER`, `ESCREVER`, `DELETAR`, `USUARIO_CODIGO_USUARIO`)
VALUES
	(3,'ENTRADA_CAIXA_LOCACAO',0,0,0,3);

/*!40000 ALTER TABLE `ACESSO` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table CLIENTE
# ------------------------------------------------------------

DROP TABLE IF EXISTS `CLIENTE`;

CREATE TABLE `CLIENTE` (
  `CODIGO_CLIENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_CLIENTE` varchar(45) DEFAULT NULL,
  `NOME_EMPRESA_TRABALHO` varchar(45) DEFAULT NULL,
  `PROFISSAO` varchar(45) DEFAULT NULL,
  `CPF` varchar(15) DEFAULT NULL,
  `DATA_NASCIMENTO` date DEFAULT NULL,
  `DATA_CADASTRO` date DEFAULT NULL,
  `ENDERECO` varchar(45) DEFAULT NULL,
  `BAIRRO` varchar(45) DEFAULT NULL,
  `COMPLEMENTO` varchar(30) DEFAULT NULL,
  `CIDADE` varchar(30) DEFAULT NULL,
  `ESTADO` varchar(30) DEFAULT NULL,
  `EMAIL` varchar(30) DEFAULT NULL,
  `LOGIN` varchar(20) DEFAULT NULL,
  `SENHA` varchar(16) DEFAULT NULL,
  `OBSERVACAO` varchar(45) DEFAULT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  PRIMARY KEY (`CODIGO_CLIENTE`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=latin1;

LOCK TABLES `CLIENTE` WRITE;
/*!40000 ALTER TABLE `CLIENTE` DISABLE KEYS */;

INSERT INTO `CLIENTE` (`CODIGO_CLIENTE`, `NOME_CLIENTE`, `NOME_EMPRESA_TRABALHO`, `PROFISSAO`, `CPF`, `DATA_NASCIMENTO`, `DATA_CADASTRO`, `ENDERECO`, `BAIRRO`, `COMPLEMENTO`, `CIDADE`, `ESTADO`, `EMAIL`, `LOGIN`, `SENHA`, `OBSERVACAO`, `DEL_FLAG`)
VALUES
	(24,'Eliesio Xavier Dias','Hospital','Analista','018.823.491-80','1990-03-19',NULL,'Rua 28','Carrilho','','Goianésia','GO','alencarburiti@gmail.com',NULL,NULL,'',0),
	(25,'Erica Buriti','Alcantara','Psicologa','018.823.491-80','1990-03-19',NULL,'Barbosa n3','genoveva','','Jundiai','SP','alencarburiti',NULL,NULL,'',0);

/*!40000 ALTER TABLE `CLIENTE` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table COPIA
# ------------------------------------------------------------

DROP TABLE IF EXISTS `COPIA`;

CREATE TABLE `COPIA` (
  `CODIGO_COPIA` int(11) NOT NULL AUTO_INCREMENT,
  `CODIGO_BARRAS` varchar(100) DEFAULT NULL,
  `IDIOMA` varchar(45) DEFAULT NULL,
  `LEGENDA` varchar(45) DEFAULT NULL,
  `DATA_AQUISICAO` date DEFAULT NULL,
  `PRECO_CUSTO` double DEFAULT NULL,
  `OBJETO_CODIGO_OBJETO` int(11) NOT NULL,
  `NUMERO_COPIA` int(11) DEFAULT '1',
  `DEL_FLAG` int(1) DEFAULT '0',
  `DEFECT_FLAG` int(1) DEFAULT '0',
  PRIMARY KEY (`CODIGO_COPIA`),
  KEY `fk_COPIA_OBJETO_idx` (`OBJETO_CODIGO_OBJETO`),
  CONSTRAINT `fk_COPIA_OBJETO` FOREIGN KEY (`OBJETO_CODIGO_OBJETO`) REFERENCES `OBJETO` (`CODIGO_OBJETO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=latin1;

LOCK TABLES `COPIA` WRITE;
/*!40000 ALTER TABLE `COPIA` DISABLE KEYS */;

INSERT INTO `COPIA` (`CODIGO_COPIA`, `CODIGO_BARRAS`, `IDIOMA`, `LEGENDA`, `DATA_AQUISICAO`, `PRECO_CUSTO`, `OBJETO_CODIGO_OBJETO`, `NUMERO_COPIA`, `DEL_FLAG`, `DEFECT_FLAG`)
VALUES
	(1,'34-1','Chinês','Chinês','2000-03-19',2,34,1,1,0),
	(2,'34-2','Chinês','Chinês','2000-03-19',0,34,2,1,0),
	(3,'34-3','Chinês','Chinês','2000-03-19',0,34,3,1,0),
	(4,'34-4','Chinês','Chinês','2000-03-19',0,34,4,0,0),
	(5,'34-5','Chinês','Chinês','2000-03-19',0,34,5,0,0),
	(6,'34-6','Chinês','Chinês','2000-03-19',0,34,6,0,0),
	(7,'34-7','Chinês','Chinês','2000-03-19',0,34,7,0,0),
	(8,'34-8','Chinês','Chinês','2000-03-19',0,34,8,0,0),
	(9,'34-9','Chinês','Chinês','2000-03-19',0,34,9,0,0),
	(10,'34-10','Chinês','Chinês','2000-03-19',0,34,10,0,0),
	(11,'35-1','Inglês','Inglês','2000-03-19',2,35,1,1,0),
	(12,'35-2','Chinês','Chinês','2000-03-19',0,35,2,0,0),
	(13,'35-3','Chinês','Chinês','2000-03-19',0,35,3,0,0),
	(14,'35-4','Chinês','Chinês','2000-03-19',0,35,4,1,0),
	(15,'35-5','Chinês','Chinês','2000-03-19',0,35,5,0,0),
	(16,'35-6','Chinês','Chinês','2000-03-19',0,35,6,0,0),
	(17,'35-7','Chinês','Chinês','2000-03-19',0,35,7,0,0),
	(18,'35-8','Chinês','Chinês','2000-03-19',0,35,8,0,0),
	(19,'35-9','Chinês','Chinês','2000-03-19',0,35,9,0,0),
	(20,'35-10','Chinês','Chinês','2000-03-19',0,35,10,0,0);

/*!40000 ALTER TABLE `COPIA` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table DEPENDENTE
# ------------------------------------------------------------

DROP TABLE IF EXISTS `DEPENDENTE`;

CREATE TABLE `DEPENDENTE` (
  `CODIGO_DEPENDENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_DEPENDENTE` varchar(50) DEFAULT NULL,
  `TIPO_DEPENDENTE` int(11) DEFAULT '0',
  `CLIENTE_CODIGO_CLIENTE` int(11) NOT NULL,
  `CPF` varchar(14) DEFAULT NULL,
  `DATA_NASCIMENTO` date DEFAULT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  PRIMARY KEY (`CODIGO_DEPENDENTE`),
  KEY `fk_DEPENDENTE_CLIENTE1_idx` (`CLIENTE_CODIGO_CLIENTE`),
  CONSTRAINT `fk_DEPENDENTE_CLIENTE1` FOREIGN KEY (`CLIENTE_CODIGO_CLIENTE`) REFERENCES `CLIENTE` (`CODIGO_CLIENTE`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=35 DEFAULT CHARSET=latin1;

LOCK TABLES `DEPENDENTE` WRITE;
/*!40000 ALTER TABLE `DEPENDENTE` DISABLE KEYS */;

INSERT INTO `DEPENDENTE` (`CODIGO_DEPENDENTE`, `NOME_DEPENDENTE`, `TIPO_DEPENDENTE`, `CLIENTE_CODIGO_CLIENTE`, `CPF`, `DATA_NASCIMENTO`, `DEL_FLAG`)
VALUES
	(23,'Eliesio Xavier Dias',0,24,NULL,NULL,0),
	(26,'Erica Buriti',0,25,NULL,NULL,0),
	(27,'Danilo de Barros',1,25,'018.823.491-80','1990-03-19',0),
	(32,'Testando 2',1,24,'018.823.491-80','1990-03-19',0),
	(33,'Eliesio Junior',1,24,'018.823.491-80','1990-03-19',0),
	(34,'Sandra Xavier',1,24,'018.823.491-80','1990-03-19',0);

/*!40000 ALTER TABLE `DEPENDENTE` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table DIARIA
# ------------------------------------------------------------

DROP TABLE IF EXISTS `DIARIA`;

CREATE TABLE `DIARIA` (
  `CODIGO_DIARIA` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_DIARIA` varchar(45) DEFAULT NULL,
  `VALOR` double DEFAULT NULL,
  `VALOR_PROMOCAO` double DEFAULT NULL,
  `DIAS` int(11) DEFAULT NULL,
  `MULTAS` double DEFAULT NULL,
  PRIMARY KEY (`CODIGO_DIARIA`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

LOCK TABLES `DIARIA` WRITE;
/*!40000 ALTER TABLE `DIARIA` DISABLE KEYS */;

INSERT INTO `DIARIA` (`CODIGO_DIARIA`, `NOME_DIARIA`, `VALOR`, `VALOR_PROMOCAO`, `DIAS`, `MULTAS`)
VALUES
	(1,'LANÇAMENTO',3,2,1,0.5),
	(2,'Catálogo',5,4,1,1),
	(3,'Testando',3,2.5,1,0.5);

/*!40000 ALTER TABLE `DIARIA` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table FORNECEDOR
# ------------------------------------------------------------

DROP TABLE IF EXISTS `FORNECEDOR`;

CREATE TABLE `FORNECEDOR` (
  `idfornecedor` int(10) NOT NULL AUTO_INCREMENT,
  `razaoSocial` varchar(70) DEFAULT NULL,
  `nomeFantasia` varchar(70) DEFAULT NULL,
  `cnpj` varchar(18) DEFAULT NULL,
  `telefone` varchar(14) DEFAULT NULL,
  `fax` varchar(14) DEFAULT NULL,
  `endereco` varchar(50) DEFAULT NULL,
  `inscricaoEstadual` varchar(20) DEFAULT NULL,
  `inscricaoMunicipal` varchar(20) DEFAULT NULL,
  `nomeVendedor` varchar(50) DEFAULT NULL,
  `telefoneVendedor` varchar(14) DEFAULT NULL,
  `cep` varchar(10) DEFAULT NULL,
  `cidade` varchar(25) DEFAULT NULL,
  `estado` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`idfornecedor`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;

LOCK TABLES `FORNECEDOR` WRITE;
/*!40000 ALTER TABLE `FORNECEDOR` DISABLE KEYS */;

INSERT INTO `FORNECEDOR` (`idfornecedor`, `razaoSocial`, `nomeFantasia`, `cnpj`, `telefone`, `fax`, `endereco`, `inscricaoEstadual`, `inscricaoMunicipal`, `nomeVendedor`, `telefoneVendedor`, `cep`, `cidade`, `estado`)
VALUES
	(1,'BROADWAY','BROADWAY','02.836.799/0001.86','(62)3335-3456','(54)6545-6456','RUA','546.546.546.','165.465.465.','TESTANDO','(62)3353-2201','76.380-000','GOIANESIA','GO');

/*!40000 ALTER TABLE `FORNECEDOR` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table GENERO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `GENERO`;

CREATE TABLE `GENERO` (
  `CODIGO_GENERO` int(10) NOT NULL AUTO_INCREMENT,
  `NOME_GENERO` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_GENERO`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;

LOCK TABLES `GENERO` WRITE;
/*!40000 ALTER TABLE `GENERO` DISABLE KEYS */;

INSERT INTO `GENERO` (`CODIGO_GENERO`, `NOME_GENERO`)
VALUES
	(1,'COMEDIA'),
	(2,'AVENTURA'),
	(3,'DANÇA'),
	(4,'DOCUMENTÁRIOS'),
	(5,'Outros 3'),
	(6,'Teste 1'),
	(7,'Testata'),
	(8,'Outros');

/*!40000 ALTER TABLE `GENERO` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table ITEM_LOCACAO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `ITEM_LOCACAO`;

CREATE TABLE `ITEM_LOCACAO` (
  `CODIGO_ITEM_LOCACAO` int(11) NOT NULL AUTO_INCREMENT,
  `DATA_LOCACAO` date DEFAULT NULL,
  `DATA_DEVOLUCAO` timestamp NULL DEFAULT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  `VALOR_LOCADO` double DEFAULT '0',
  `VALOR_PAGO` double DEFAULT '0',
  `LOCACAO_CODIGO_LOCACAO` int(11) NOT NULL,
  `COPIA_CODIGO_COPIA` int(11) NOT NULL,
  PRIMARY KEY (`CODIGO_ITEM_LOCACAO`),
  KEY `fk_ITEM_LOCACAO_LOCACAO1_idx` (`LOCACAO_CODIGO_LOCACAO`),
  KEY `fk_ITEM_LOCACAO_COPIA1_idx` (`COPIA_CODIGO_COPIA`),
  CONSTRAINT `fk_ITEM_LOCACAO_COPIA1` FOREIGN KEY (`COPIA_CODIGO_COPIA`) REFERENCES `COPIA` (`CODIGO_COPIA`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_ITEM_LOCACAO_LOCACAO1` FOREIGN KEY (`LOCACAO_CODIGO_LOCACAO`) REFERENCES `LOCACAO` (`CODIGO_LOCACAO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;

LOCK TABLES `ITEM_LOCACAO` WRITE;
/*!40000 ALTER TABLE `ITEM_LOCACAO` DISABLE KEYS */;

INSERT INTO `ITEM_LOCACAO` (`CODIGO_ITEM_LOCACAO`, `DATA_LOCACAO`, `DATA_DEVOLUCAO`, `DEL_FLAG`, `VALOR_LOCADO`, `VALOR_PAGO`, `LOCACAO_CODIGO_LOCACAO`, `COPIA_CODIGO_COPIA`)
VALUES
	(1,'2014-10-06',NULL,0,3,3,50,1),
	(2,'2014-10-06',NULL,0,3,3,50,11),
	(3,'2014-10-07',NULL,0,3,3,51,2),
	(4,'2014-10-07',NULL,0,3,3,51,3),
	(5,'2014-10-07',NULL,0,3,2,51,14);

/*!40000 ALTER TABLE `ITEM_LOCACAO` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table LOCACAO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `LOCACAO`;

CREATE TABLE `LOCACAO` (
  `CODIGO_LOCACAO` int(11) NOT NULL AUTO_INCREMENT,
  `DEPENDENTE_CODIGO_DEPENDENTE` int(11) NOT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  PRIMARY KEY (`CODIGO_LOCACAO`),
  KEY `fk_LOCACAO_DEPENDENTE1_idx` (`DEPENDENTE_CODIGO_DEPENDENTE`),
  CONSTRAINT `fk_LOCACAO_DEPENDENTE1` FOREIGN KEY (`DEPENDENTE_CODIGO_DEPENDENTE`) REFERENCES `DEPENDENTE` (`CODIGO_DEPENDENTE`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=latin1;

LOCK TABLES `LOCACAO` WRITE;
/*!40000 ALTER TABLE `LOCACAO` DISABLE KEYS */;

INSERT INTO `LOCACAO` (`CODIGO_LOCACAO`, `DEPENDENTE_CODIGO_DEPENDENTE`, `DEL_FLAG`)
VALUES
	(50,23,0),
	(51,27,0);

/*!40000 ALTER TABLE `LOCACAO` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table OBJETO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `OBJETO`;

CREATE TABLE `OBJETO` (
  `CODIGO_OBJETO` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRICAO_OBJETO` varchar(45) DEFAULT NULL,
  `TITULO_ORIGINAL` varchar(45) DEFAULT NULL,
  `DESCRICAO_RESUMIDA` varchar(45) DEFAULT NULL,
  `TIPO_MOVIMENTO` varchar(45) DEFAULT NULL,
  `PRODUCAO` varchar(45) DEFAULT NULL,
  `DURACAO` varchar(45) DEFAULT NULL,
  `MIDIA` varchar(45) DEFAULT NULL,
  `TIPO_MIDIA` varchar(45) DEFAULT NULL,
  `ELENCO` varchar(45) DEFAULT NULL,
  `SINOPSE` varchar(45) DEFAULT NULL,
  `GENERO_CODIGO_GENERO` int(10) NOT NULL,
  `DIARIA_CODIGO_DIARIA` int(11) NOT NULL,
  `DEL_FLAG` int(2) DEFAULT '0',
  PRIMARY KEY (`CODIGO_OBJETO`),
  KEY `fk_OBJETO_GENERO1_idx` (`GENERO_CODIGO_GENERO`),
  KEY `fk_OBJETO_DIARIA1_idx` (`DIARIA_CODIGO_DIARIA`),
  CONSTRAINT `fk_OBJETO_DIARIA1` FOREIGN KEY (`DIARIA_CODIGO_DIARIA`) REFERENCES `DIARIA` (`CODIGO_DIARIA`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `fk_OBJETO_GENERO1` FOREIGN KEY (`GENERO_CODIGO_GENERO`) REFERENCES `GENERO` (`CODIGO_GENERO`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=36 DEFAULT CHARSET=latin1;

LOCK TABLES `OBJETO` WRITE;
/*!40000 ALTER TABLE `OBJETO` DISABLE KEYS */;

INSERT INTO `OBJETO` (`CODIGO_OBJETO`, `DESCRICAO_OBJETO`, `TITULO_ORIGINAL`, `DESCRICAO_RESUMIDA`, `TIPO_MOVIMENTO`, `PRODUCAO`, `DURACAO`, `MIDIA`, `TIPO_MIDIA`, `ELENCO`, `SINOPSE`, `GENERO_CODIGO_GENERO`, `DIARIA_CODIGO_DIARIA`, `DEL_FLAG`)
VALUES
	(34,'Mulher Infernal','Evil Woman','Mulher Infernal','Locação','Americana','90min','Blu Ray','Filme','Tom Cruise','',4,3,0),
	(35,'Todos Em Pânico','Todos Em Panico','Todos Em Pânico','Locação','Americana','90min','Blu Ray','Filme','','',1,1,0);

/*!40000 ALTER TABLE `OBJETO` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table STATION
# ------------------------------------------------------------

DROP TABLE IF EXISTS `STATION`;

CREATE TABLE `STATION` (
  `CODIGO_STATION` int(11) NOT NULL AUTO_INCREMENT,
  `DESCRICAO_STATION` varchar(45) DEFAULT NULL,
  `DEL_FLAG` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_STATION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table TELEFONE
# ------------------------------------------------------------

DROP TABLE IF EXISTS `TELEFONE`;

CREATE TABLE `TELEFONE` (
  `CODIGO_TELEFONE` int(11) NOT NULL AUTO_INCREMENT,
  `TELEFONE` varchar(50) DEFAULT NULL,
  `CLIENTE_CODIGO_CLIENTE` int(11) NOT NULL,
  PRIMARY KEY (`CODIGO_TELEFONE`),
  KEY `fk_TELEFONE_CLIENTE1_idx` (`CLIENTE_CODIGO_CLIENTE`),
  CONSTRAINT `fk_TELEFONE_CLIENTE1` FOREIGN KEY (`CLIENTE_CODIGO_CLIENTE`) REFERENCES `CLIENTE` (`CODIGO_CLIENTE`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=latin1;

LOCK TABLES `TELEFONE` WRITE;
/*!40000 ALTER TABLE `TELEFONE` DISABLE KEYS */;

INSERT INTO `TELEFONE` (`CODIGO_TELEFONE`, `TELEFONE`, `CLIENTE_CODIGO_CLIENTE`)
VALUES
	(25,'(32) 7489-2794',25),
	(26,'(34) 3243-2432',25),
	(27,'(12) 2132-1231',24),
	(28,'(12) 2132-1231',24),
	(29,'(23) 1321-3213',24);

/*!40000 ALTER TABLE `TELEFONE` ENABLE KEYS */;
UNLOCK TABLES;


# Dump of table TIPO_OBJETO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `TIPO_OBJETO`;

CREATE TABLE `TIPO_OBJETO` (
  `CODIGO_TIPO_OBJETO` int(11) NOT NULL,
  `NOME_TIPO_OBJETO` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_TIPO_OBJETO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;



# Dump of table USUARIO
# ------------------------------------------------------------

DROP TABLE IF EXISTS `USUARIO`;

CREATE TABLE `USUARIO` (
  `CODIGO_USUARIO` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_USUARIO` varchar(50) DEFAULT NULL,
  `LOGIN` varchar(20) DEFAULT NULL,
  `SENHA` varchar(10) DEFAULT NULL,
  `TIPO_USUARIO` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`CODIGO_USUARIO`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

LOCK TABLES `USUARIO` WRITE;
/*!40000 ALTER TABLE `USUARIO` DISABLE KEYS */;

INSERT INTO `USUARIO` (`CODIGO_USUARIO`, `NOME_USUARIO`, `LOGIN`, `SENHA`, `TIPO_USUARIO`)
VALUES
	(3,'ADMINISTRADOR','admin','admin','administrador');

/*!40000 ALTER TABLE `USUARIO` ENABLE KEYS */;
UNLOCK TABLES;



--
-- Dumping routines (PROCEDURE) for database 'locadora'
--
DELIMITER ;;

# Dump of PROCEDURE SP_LAST_CLIENTE
# ------------------------------------------------------------

/*!50003 DROP PROCEDURE IF EXISTS `SP_LAST_CLIENTE` */;;
/*!50003 SET SESSION SQL_MODE="STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION"*/;;
/*!50003 CREATE*/ /*!50020 DEFINER=`root`@`localhost`*/ /*!50003 PROCEDURE `SP_LAST_CLIENTE`()
BEGIN
SELECT MAX(CODIGO_CLIENTE) FROM locadora.CLIENTE;
END */;;

/*!50003 SET SESSION SQL_MODE=@OLD_SQL_MODE */;;
# Dump of PROCEDURE SP_UPDATE_CLIENTE_BY_PK
# ------------------------------------------------------------

/*!50003 DROP PROCEDURE IF EXISTS `SP_UPDATE_CLIENTE_BY_PK` */;;
/*!50003 SET SESSION SQL_MODE="STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION"*/;;
/*!50003 CREATE*/ /*!50020 DEFINER=`root`@`localhost`*/ /*!50003 PROCEDURE `SP_UPDATE_CLIENTE_BY_PK`(
IN P_CODIGO_CLIENTE int(11),
IN P_NOME_CLIENTE varchar(45),
IN P_NOME_EMPRESA_TRABALHO varchar(45),
IN P_PROFISSAO varchar(45),
IN P_CPF varchar(15),
IN P_DATA_NASCIMENTO date,
IN P_ENDERECO varchar(45),
IN P_BAIRRO varchar(45),
IN P_COMPLEMENTO varchar(30),
IN P_CIDADE varchar(30),
IN P_ESTADO varchar(30),
IN P_EMAIL varchar(30),
IN P_OBSERVACAO varchar(40),
IN P_DEL_FLAG int(11)
)
BEGIN

UPDATE locadora.CLIENTE
SET
NOME_CLIENTE = P_NOME_CLIENTE,
NOME_EMPRESA_TRABALHO = P_NOME_EMPRESA_TRABALHO,
PROFISSAO = P_PROFISSAO,
CPF = P_CPF,
DATA_NASCIMENTO = P_DATA_NASCIMENTO,
ENDERECO = P_ENDERECO,
BAIRRO = P_BAIRRO,
COMPLEMENTO = P_COMPLEMENTO,
CIDADE = P_CIDADE,
ESTADO = P_ESTADO,
EMAIL = P_EMAIL,
OBSERVACAO = P_OBSERVACAO,
DEL_FLAG = P_DEL_FLAG
WHERE CODIGO_CLIENTE = P_CODIGO_CLIENTE;

UPDATE locadora.DEPENDENTE SET
NOME_DEPENDENTE = P_NOME_CLIENTE
WHERE CLIENTE_CODIGO_CLIENTE = P_CODIGO_CLIENTE
AND TIPO_DEPENDENTE = 0;

END */;;

/*!50003 SET SESSION SQL_MODE=@OLD_SQL_MODE */;;
DELIMITER ;

/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
